<webc-container controller='governance/voting/VotingController'>
  <section class='dw-credentials--header'>
    <dw-title>
      <p slot='subheader'>Manage Voting Sessions</p>
      <p slot='subheader'>This is an overview of the Voting Sessions you may take part.</p>
    </dw-title>

    <div>
      <sl-button class='dw-action-button' data-tag='toggle.voting.dashboard' type='primary'>
        Voting Dashboard
      </sl-button>
      <sl-button class='dw-action-button' data-tag='toggle.voting.new' type='primary'>
        New Voting Session
        <sl-icon name='plus' slot='prefix'></sl-icon>
      </sl-button>
    </div>
  </section>

  <div class='dw-credentials dw-data-grid' data-if='@isNewVotingOpened'>
    <webc-template data-view-model='@' slot='true' template='governance/voting/new-voting-session'></webc-template>

    <div data-if='@isAddVoteOpened' slot='false'>
      <webc-template data-view-model='@' slot='true' template='governance/voting/perform-vote'></webc-template>

      <div data-if='@isVoteResultsOpened' slot='false'>
        <webc-template data-view-model='@' slot='true' template='governance/voting/view-results'></webc-template>

        <div class='no-data' data-if='@areVotingSessionsLoaded' slot='false'>
          <dw-spinner content='Voting Sessions are loading' slot='false'></dw-spinner>

          <div class='dw-data-table' data-if='@hasVotingSessions' slot='true'>
            <div class='no-data' slot='false'>
              <p class='no-data'>There are no Voting Sessions available!</p>
            </div>

            <article class='dw-data-grid-header dw-col-6' slot='true'>
              <label>Question / Vote Name</label>
              <label>Type</label>
              <label>Due date</label>
              <label>Status</label>
              <label>Overall Status</label>
              <label>Options</label>
            </article>

            <article class='dw-data-grid-item dw-col-6' data-for='@votingSessions' slot='true'>
              <label title='@title'>{{@question}}</label>
              <label>{{@votingType}}</label>
              <label>{{@deadline}}</label>
              <label data-status='@canVote'>{{@status}}</label>
              <label data-status='@concluded'>{{@overallStatus}}</label>
              <div class='dw-table-options'>
                <label class='link' data-tag='@options.eventTag'>{{@options.optionLabel}}</label>
                <label class='link' data-tag='toggle.voting.results'>Test (Results)</label>
              </div>
            </article>
          </div>
        </div>
      </div>
      </section>
    </div>
  </div>
</webc-container>